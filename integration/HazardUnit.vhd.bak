library ieee;
use ieee.std_logic_1164.all;
use ieee.numeric_std.all;

-- for detect load use case --
entity HazardUnit is
    port (
        Rsrc1,Rsrc2   : in std_logic_vector (2 downto 0);   -- Rsrc1,Rsrc2 from decode/ex buffer --
        memory_signals: in std_logic_vector(3 downto 0);    --  from decode/ex buffer was pop operation or not --
        Rdest_address : in std_logic_vector(2 downto 0);    -- Rdest address from Execute/Mmemory  buffer --
        load_use      : out std_logic                       -- if 1 load use case detected else 0 --

    );
    end HazardUnit; 
    -- Op code From  0  to  4 , Rsrc1 address  From  5  to  7 , Rsrc2 address From  8  to  10 --
architecture Hazard_architecture of HazardUnit is
begin
<<<<<<< HEAD
    process(clk)
     begin
        if falling_edge(clk) then
            if((load_flag = '1') and ((Rdest_address = Instruction(7 downto 5)) or (Rdest_address = Instruction(10 DOWNTO 8)))) then
                load_use <= '1'; else 
                load_use <= '0';
           end if;
        end if;
        end process;
 END Hazard_architecture; 
=======

    load_use <= '1' when (memory_signals(1) = '1' and memory_signals(3) = '1' and ((Rdest_address = Rsrc1) or (Rdest_address = Rsrc2))) else
        '0';

    END Hazard_architecture; 
>>>>>>> 4978ec133a0aba57ab15014b496f0e3fbae84953
